<p-tabView>
    <p-tabPanel header="Personal Info">
        <app-candidate-info #info [hideCreateInfo]="false" [submitMode]=submitMode></app-candidate-info>
    </p-tabPanel>
    <p-tabPanel header="Test Results">
        <p-table [value]="sessions" responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th pSortableColumn="id">ID<p-sortIcon field="id"></p-sortIcon></th>
                    <th pSortableColumn="testName">Test Name <p-sortIcon field="testName"></p-sortIcon></th>
                    <th pSortableColumn="createdDateTime">Assign Date <p-sortIcon field="createdDateTime"></p-sortIcon></th>
                    <th pSortableColumn="status">Status <p-sortIcon field="status"></p-sortIcon></th>
                    <th pSortableColumn="startTime">Start Time<p-sortIcon field="startTime"></p-sortIcon></th>
                    <th pSortableColumn="endTime">End Time<p-sortIcon field="endTime"></p-sortIcon></th>
                    <th pSortableColumn="endMethod">End Method <p-sortIcon field="endMethod"></p-sortIcon></th>
                    <th pSortableColumn="score">Score<p-sortIcon field="score"></p-sortIcon></th>
                    <th pSortableColumn="questionsAsked">Questions Asked<p-sortIcon field="questionsAsked"></p-sortIcon></th>
                    <th pSortableColumn="questionsAnswered">Questions Answered <p-sortIcon field="questionsAnswered"></p-sortIcon></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-session>
                <tr>
                    <td>{{session.id}}</td>
                    <td>{{session.name}}</td>
                    <td>{{session.createdDateTime}}</td>
                    <td>{{session.status}}</td>
                    <td>{{session.startTime}}</td>
                    <td>{{session.endTime}}</td>
                    <td>{{session.endMethod}}</td>
                    <td>{{session.score}}</td>
                    <td>{{session.test.questionsAsked}}</td>
                    <td>{{session.questionsAnswered}}</td>
                </tr>
            </ng-template>
        </p-table>
    </p-tabPanel>
    
    <p-tabPanel header="Assign Tests">
        <p-table [value]="assignedSessions" responsiveLayout="scroll">
            <ng-template pTemplate="header">
                <tr>
                    <th style="width:8rem"></th>
                    <th pSortableColumn="id">Session Id<p-sortIcon field="id"></p-sortIcon></th>
                    <th pSortableColumn="guid">Guid<p-sortIcon field="guid"></p-sortIcon></th>
                    <th pSortableColumn="testName">Test Name <p-sortIcon field="testName"></p-sortIcon></th>
                    <th pSortableColumn="createdDateTime">Assign Date <p-sortIcon field="createdDateTime"></p-sortIcon></th>
                    <th pSortableColumn="questionsAsked">Questions Asked<p-sortIcon field="questionsAsked"></p-sortIcon></th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-assigned>
                <tr>
                    <td style="text-align:center">
                        <button *ngIf=!assigned.id type="button" pButton (click)="assignTest(assigned)" class="">Assign</button>
                        <button *ngIf=assigned.id type="button" pButton (click)="removeTest(assigned)" class="">Remove</button>
                    </td>
                    <td>{{assigned.id}}</td>
                    <td>{{assigned.guid}}</td>
                    <td>{{assigned.name}}</td>
                    <td>{{assigned.createdDateTime}}</td>
                    <td>{{assigned.questionsAsked}}</td>
                </tr>
            </ng-template>
        </p-table>
    </p-tabPanel>
</p-tabView>